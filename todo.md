todos:

* consider stronger types for server state variables
* result types?

